<!-- TOP TITLE -->
<div style="text-align: center;">
    <h1>🍓FRAISEMOE NEKOPARA Addons Installer🍓</h1>
    <h3>一个简单的为 Nekopara 系列游戏安装补丁的应用。</h3>
</div>

<!-- INTRODUCTION -->
<p align="center">
    <a href="https://github.com/Yanam1Anna/FRAISEMOE-Addons-Installer/">
        <svg role="img" viewBox="0 0 25 25" width="20" height="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/>
        </svg>
        Github
    </a> |
    <a href="https://www.bilibili.com/video/BV1hn9UYwE6p/">
        <svg role="img" viewBox="0 0 24 24" width="20" height="20" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.813 4.653h.854c1.51.054 2.769.578 3.773 1.574 1.004.995 1.524 2.249 1.56 3.76v7.36c-.036 1.51-.556 2.769-1.56 3.773s-2.262 1.524-3.773 1.56H5.333c-1.51-.036-2.769-.556-3.773-1.56S.036 18.858 0 17.347v-7.36c.036-1.511.556-2.765 1.56-3.76 1.004-.996 2.262-1.52 3.773-1.574h.774l-1.174-1.12a1.234 1.234 0 0 1-.373-.906c0-.356.124-.658.373-.907l.027-.027c.267-.249.573-.373.92-.373.347 0 .653.124.92.373L9.653 4.44c.071.071.134.142.187.213h4.267a.836.836 0 0 1 .16-.213l2.853-2.747c.267-.249.573-.373.92-.373.347 0 .662.151.929.4.267.249.391.551.391.907 0 .355-.124.657-.373.906zM5.333 7.24c-.746.018-1.373.276-1.88.773-.506.498-.769 1.13-.786 1.894v7.52c.017.764.28 1.395.786 1.893.507.498 1.134.756 1.88.773h13.334c.746-.017 1.373-.275 1.88-.773.506-.498.769-1.129.786-1.893v-7.52c-.017-.765-.28-1.396-.786-1.894-.507-.497-1.134-.755-1.88-.773zM8 11.107c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c0-.373.129-.689.386-.947.258-.257.574-.386.947-.386zm8 0c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c.017-.391.15-.711.4-.96.249-.249.56-.373.933-.373Z"/>
        </svg>
        Bilibili
    </a>
</p>
<p align="center">
    <a href="https://github.com/Yanam1Anna/FRAISEMOE-Addons-Installer/blob/master/FAQ.md">中文</a> | 
    <a href="https://github.com/Yanam1Anna/FRAISEMOE-Addons-Installer/blob/master/FAQ-en.md">English</a>
</p>

<div style="text-align: center;">
    <h5><b><u>请严格遵守 <a href="https://github.com/Yanam1Anna/FRAISEMOE-Addons-Installer/blob/master/FAQ.md">使用须知文档</a> 的所有条例，如有违反，全体开发人员不承担任何责任。</u></b></h5>
    <h5><b><u>本工具的使用性质仅供学习交流使用，请勿用于商业用途</u></b></h5>
</div>

---

## 🎮 适用游戏：

- **NEKOPARA Vol. 1**
- **NEKOPARA Vol. 2**
- **NEKOPARA Vol. 3**
- **NEKOPARA Vol. 4**

---

⛔ **特别提醒：**

> **1. NEKOPARA Vol. 0 & NEKOPARA Extra 不适用补丁安装 ❗**

> **2. 尚未拥有的游戏将不会进行补丁安装 ❗**

> **3. 本工具仅适用于补丁安装，不适用于安装游戏 ❗ 且仅限于在 Windows 系统上运行 ❗**

> **4. 工具需要使用管理员权限运行 ❗
> 原因：为了防止用户在没有关闭正在运行的游戏而影响本工具的安装效果，启用应用前会获取游戏进程信息从而关闭游戏 ❗**

> **5. 使用本工具前需要掌握补丁安装的基本安装知识：**
>
> **5-1. 为什么要进行补丁安装？补丁中有什么内容？**
>
> **5-2. 根据文档中的内容信息，思考为什么会发生这些报错？或为什么安装失败？**
>
> **5-3. 安装补丁成功后，如何排查补丁的相关设置，确认是否安装成功？**
>
> ***如果以上知识您对此一无所知，请不要使用本工具或查看教程视频，如果已下载本工具，则推荐将本工具移动到回收站并删除。***

---

## **🔄 使用方式/流程：**

1. 下载仓库中的"FRAISEMOE Addons Installer.exe"。
2. **关闭[“适用游戏”中](#适用游戏)正在运行的游戏。**
3. 若应用询问是否使用管理员身份运行，给予管理员身份运行即可。**若无法获取管理员权限，应用无法运行并自动退出。**
4. 若应用询问是否关闭正在运行的游戏，选择"Yes"即可。**若无法关闭正在运行的游戏，应用无法运行并自动退出。**
5. 进入应用后，选择"开始安装/Start Install"，选择**游戏目录的上级目录。**<br />

   > **重要提示 1** ❓ 何为“游戏目录的上级目录”？应该如何获取？
   > 以 Steam 平台为例，在顶部找到找到"库"选项，随后在左侧游戏栏中找到[可安装补丁的游戏列表](#适用游戏);<br />右键列表中的游戏，选择"管理"->"浏览本地文件"，即可获取游戏目录。随后在地址栏中选择"←"图样的按钮，在资源管理器中若看到[游戏的文件夹"如：NEKOPARA Vol. 1"](#适用游戏)，则该目录为游戏目录的上级目录；在地址栏中全选路径并复制。

   > **重要提示 2** ❓ 若是第三方安装的游戏，该如何使用本工具？
   > 因第三方安装的路径不固定，请自行复制游戏目录的上级目录路径，方法与 Steam 平台的安装方法类似。

   > 示例（仅作示例，请勿直接复制）：
   > 游戏文件夹：C:（盘符不固定）\Steam\steamapps\common\NEKOPARA Vol. 1
   > 游戏目录的上级目录：C:（盘符不固定）\Steam\steamapps\common

6. 进入目录选择页面的资源管理器的**地址栏**中，将方才的路径**粘贴到资源管理器的地址栏**中，点击"选择文件夹"。<br />**（请注意下方的选择文件夹处的文本是否为路径的最后一个文件夹名称，若路径有无则需重新选择）。**

   > √ 正确示例（仅作示例，请勿直接复制）：
   > 上方地址栏输入的路径：C:（盘符不固定）\Steam\steamapps\common
   > 下方文件夹名：common

7. 选择文件夹后，将可能遇到下列的情况：
<table>
    <tr>
        <td><h5>状态<br />Status</h5></td>
        <td><h5>操作<br />Action</h5></td>
    </tr>
    <tr>
        <td>游戏存在，但补丁尚未安装</td>
        <td>直接进行下载任务</td>
    </tr>
    <tr>
        <td>游戏存在，<br />但补丁已经从其他来源安装或补丁文件破损</td>
        <td>询问是否重新从本工具安装应用，若其他来源的补丁可用，则可选择不重新安装</td>
    </tr>
    <tr>
        <td>游戏不存在</td>
        <td>跳过安装补丁步骤</td>
    </tr>
    <tr>
        <td>游戏存在，<br />但在使用本工具时无法安装到对应版本的补丁</td>
        <td>重复按照之前的步骤进行安装</td>
    </tr>
</table>

8. 确认最终的安装结果，然后选择"退出"即可。
9. 进入游戏，确认"设置"一项中是否存在更多的选项。或先前已经进入过附加剧情并在""EXTRA”选项中有该段剧情，则表明补丁安装成功。若没有任何上述表现，请重复进行安装步骤。

---

## 🔰 软件功能：

- 检测[“适用游戏的补丁状态”](#适用游戏)已经安装的补丁文件，并比对 [Hash(SHA-256)](#hashsha-256校验值)是否正常，正常则跳过该版本安装；<br />若使用其他来源的补丁/补丁文件损坏，则询问是否重新安装补丁，若选择重新安装，则自动删除旧补丁文件且下载补丁包并重新安装。
- 检测所有未安装补丁的版本并执行安装任务。

---

## ❓ 常见问题 & 使用须知

<h4><u>使用过程</u></h4>

- 应用打开已经打开，但是加载缓慢。
- 请耐心等待一段时间，并非是程序无响应。
- 请不要在加载期间多次打开应用，造成不必要的其他问题。

<h4><u>打开应用时提示应用正在运行 / 被占用的情况</u></h4>

- 由于开启应用动作过于频繁，造成任务管理器刷新失败，请手动进入任务管理器中找到"FRAISEMOE-Addons-Installer"，结束其程序进程后再次重启。

<h4><u>1. 下载报错</u></h4>

<table>
    <tr>
        <td><h5>常见错误类型<br />Error Types</h5></td>
        <td><h5>报错信息<br />Error Infomation</h5></td>
    </tr>
    <tr>
        <td>包含“403”/“访问被服务器拒绝”字样的</td>
        <td>访问被服务器拒绝，检查是否使用设置了网络代理（VPN），并重置网络代理（或退出相关VPN代理程序），然后“重启应用”再试。</td>
    </tr>
    <tr>
        <td>包含“port=443”/“远程主机强迫关闭了一个现有连接”字样</td>
        <td>下载中断，待其他任务检验文件完整性/下载任务完成后，重新使用“开始安装”，选择上次输入的“游戏的上级目录”安装即可。</td>
    </tr>
    <tr>
        <td>包含其他字样</td>
        <td>1.多为用户网络状态异常，检查网络状态并修复后再试。<br />2.部分情况为服务器故障，届时请通过作者或致谢名单中的人员报告问题。</td>
    </tr>
</table>

<h4><u>2. 下载与安装过程中可能遇到的问题</u></h4>
<table>
    <tr>
        <td><h5>常见问题类型<br />FAQ Types</h5></td>
        <td><h5>解决方式<br />Solution</h5></td>
    </tr>
    <tr>
        <td>下载进度缓慢，有出现停滞的情况</td>
        <td>进度停滞但未出现报错的情况下，稍做等待。</td>
    </tr>
    <tr>
        <td>检测文件完整性时，弹窗闪烁</td>
        <td>属于正常情况，无需理会。</td>
    </tr>
    <tr>
        <td>下载进度窗口弹出，同时被哈希值检验窗口覆盖/窗口关闭按钮变成红色的情况</td>
        <td>部分补丁文件过大，计算哈希值耗时稍长。请稍作等待，若等待时间过长，可手动点击主窗口/下载进度弹窗/哈希值检验窗口刷新状态。</td>
    </tr>
</table>

<h4><u>3. 下载过程中，无法退出程序</u></h4>

- 为保证补丁应用效果，下载和安装过程中请勿退出程序。如违反此条须知，造成的不良影响由用户自行承担。

<h4><u>4. 下载过程中，强制终止程序</u></h4>

- 可能会导致补丁文件损坏。重启本应用后将自动覆盖已下载的文件。如违反此条须知，造成的不良影响由用户自行承担。

<h4><u>5. 多次下载和安装补丁后，网络状态正常但是网络速度出现明显降低的情况</u></h4>

- 为确保服务器状态稳定和资源的安全性，下载源区分为国内源与国际源；为保证更多用户的下载质量，国内源进行了下载次数限制，服务器将超出限制次数的任务转发到国际源中下载。

<h4><u>6. 在除了本仓库外发现一致/类似的仓库/应用</u></h4>

- 可能是其他开发者经过二次修改，或使用未知源的补丁文件，请勿下载/使用此类的仓库/应用。

<h4><u>7. 在使用本应用前，用户通过非免费的方式获取本应用</u></h4>

- 本应用免费、开源，如有通过非免费途径获取，请立即向来源申请退款并积极维权。

---

## 💫 HASH(SHA-256)校验值

<table>
    <tr>
        <td><h5>游戏补丁<br />GamePatch</h5></td>
        <td><h5>SHA-256(哈希值创建时间：2024/07-2024-08)</h5></td>
    </tr>
    <tr>
        <td>Vol.1</td>
        <td>04b48b231a7f34431431e5027fcc7b27affaa951b8169c541709156acf754f3e</td>
    </tr>
    <tr>
        <td>Vol.2</td>
        <td>b9c00a2b113a1e768bf78400e4f9075ceb7b35349cdeca09be62eb014f0d4b42</td>
    </tr>
    <tr>
        <td>Vol.3</td>
        <td>2ce7b223c84592e1ebc3b72079dee1e5e8d064ade15723328a64dee58833b9d5</td>
    </tr>
    <tr>
        <td>Vol.4</td>
        <td>4a4a9ae5a75a18aacbe3ab0774d7f93f99c046afe3a777ee0363e8932b90f36a</td>
    </tr>
</table>
